<div align="center">

<h1>xyz-searchğŸ‘‹</h1>

[![License](https://img.shields.io/badge/license-GPL%203.0-blue.svg?style=flat-square)](https://www.gnu.org/licenses/gpl-3.0.html)
[![Docker Pulls](https://img.shields.io/docker/pulls/noogel/xyz-search.svg?style=flat-square)](https://hub.docker.com/r/noogel/xyz-search)
[![Version](https://img.shields.io/badge/version-1.2.1-blue.svg?style=flat-square)](https://github.com/noogel/xyz-search/releases)

**ä¸€ä¸ªå¼ºå¤§çš„å…¨æ–‡æœç´¢ä¸æ™ºèƒ½æ£€ç´¢ç³»ç»Ÿ | è®©æ•°æ®æ£€ç´¢æ›´æ™ºèƒ½ã€æ›´ç®€å•**
</div>

## ğŸ“š ç›®å½•

* [ğŸ’¡ é¡¹ç›®ä»‹ç»](#-é¡¹ç›®ä»‹ç»)
* [âœ¨ ä¸»è¦ç‰¹æ€§](#-ä¸»è¦ç‰¹æ€§)
* [ğŸ” ç³»ç»Ÿæ¶æ„](#-ç³»ç»Ÿæ¶æ„)
* [ğŸš€ å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹)
* [ğŸ”§ é…ç½®è¯´æ˜](#-é…ç½®è¯´æ˜)
* [ğŸ³ Dockeréƒ¨ç½²](#-dockeréƒ¨ç½²)
* [ğŸ“Š å¼€å‘è®¡åˆ’](#-å¼€å‘è®¡åˆ’)
* [ğŸ’¬ å¸¸è§é—®é¢˜](#-å¸¸è§é—®é¢˜)
* [ğŸ‘¥ è´¡çŒ®æŒ‡å—](#-è´¡çŒ®æŒ‡å—)
* [ğŸ“„ è®¸å¯è¯](#-è®¸å¯è¯)

## ğŸ’¡ é¡¹ç›®ä»‹ç»

ç•…æ–‡å…¨ç´¢æ˜¯ä¸€ä¸ªæ™ºèƒ½åŒ–å…¨æ–‡æ£€ç´¢ç³»ç»Ÿã€‚åŸºäºSpring Bootå’ŒLuceneè®¾è®¡ï¼Œæ”¯æŒå¤šç§æ–‡ä»¶æ ¼å¼çš„å…¨æ–‡å†…å®¹æ£€ç´¢ï¼Œé€šè¿‡é›†æˆSpring AIåŠŸèƒ½ï¼Œæ”¯æŒæ™ºèƒ½æœç´¢å’Œå†…å®¹åˆ†æï¼Œä¸ºç”¨æˆ·æä¾›æ›´ç²¾å‡†çš„æœç´¢ä½“éªŒã€‚

ç³»ç»Ÿä¸“ä¸ºä¸ªäººçŸ¥è¯†ç®¡ç†å’Œæ•°å­—å›¾ä¹¦é¦†è€Œè®¾è®¡ï¼Œå¯ä»¥è½»æ¾å¤„ç†ä»å‡ åƒåˆ°æ•°åä¸‡çš„æ–‡æ¡£é›†åˆã€‚æ— è®ºæ˜¯ç®¡ç†ä¸ªäººç”µå­ä¹¦åº“ï¼Œè¿˜æ˜¯æ„å»ºä¼ä¸šçº§æ–‡æ¡£æ£€ç´¢å¹³å°ï¼Œç•…æ–‡å…¨ç´¢éƒ½èƒ½æ»¡è¶³æ‚¨çš„éœ€æ±‚ã€‚

## âœ¨ ä¸»è¦ç‰¹æ€§

### ğŸ“„ å¤šæ ¼å¼æ–‡æ¡£æ”¯æŒ

* æ”¯æŒPDFã€Officeæ–‡æ¡£
* æ”¯æŒEpubç”µå­ä¹¦å†…å®¹è¯†åˆ«å’Œç´¢å¼•
* æ”¯æŒå›¾ç‰‡å†…å®¹è¯†åˆ«ï¼ˆä¾èµ–PaddleOCRï¼‰
* æ”¯æŒç½‘é¡µå’Œçº¯æ–‡æœ¬æ–‡ä»¶
* æ”¯æŒè§†é¢‘ metadata ç´¢å¼•å’Œé¢„è§ˆ

### ğŸ” é«˜æ€§èƒ½æœç´¢å¼•æ“

* åŸºäºLuceneçš„é«˜æ•ˆç´¢å¼•å’Œæ£€ç´¢
* æ”¯æŒä¸­æ–‡åˆ†è¯å’Œæ™ºèƒ½æ£€ç´¢
* å®æ—¶ç´¢å¼•æ›´æ–°å’Œæœç´¢ç»“æœä¼˜åŒ–
* æ”¯æŒæ–‡ä»¶ç±»å‹å’Œå¤§å°è¿‡æ»¤
* æ”¯æŒæœç´¢ç»“æœé«˜äº®æ˜¾ç¤º

### ğŸ¤– AIå¢å¼ºèƒ½åŠ›

* é›†æˆSpring AIï¼Œæ”¯æŒæ™ºèƒ½æœç´¢
* å†…å®¹ç†è§£å’Œè¯­ä¹‰åˆ†æ
* æ”¯æŒå¯¹è¯å¼æœç´¢ä½“éªŒ
* æ”¯æŒæœ¬åœ°Ollamaæ¨¡å‹
* æ–‡æ¡£å†…å®¹æ™ºèƒ½æ€»ç»“

### ğŸ“š ç”µå­ä¹¦ç®¡ç†

* æ”¯æŒOPDSåè®®ï¼Œæ–¹ä¾¿ç”µå­ä¹¦ç®¡ç†
* æä¾›Epubç”µå­ä¹¦åœ¨çº¿é˜…è¯»
* å…¼å®¹ä¸»æµç”µå­ä¹¦é˜…è¯»å™¨
* æ”¯æŒå°é¢å’Œç›®å½•ç´¢å¼•

### ğŸ’» æ˜“ç”¨çš„ç•Œé¢ä¸API

* ç®€æ´ç°ä»£çš„Webç•Œé¢
* æ”¯æŒä¸»åŠ¨æ·»åŠ æ–‡æ¡£
* æ”¯æŒç‰¹å®šæ–‡ä»¶è‡ªåŠ¨æœé›†
* ç§»åŠ¨ç«¯è‡ªé€‚åº”è®¾è®¡
* ä¸°å¯Œçš„æ–‡ä»¶é¢„è§ˆåŠŸèƒ½

## ğŸ” ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                â”‚      â”‚                â”‚     â”‚                â”‚
â”‚   Web ç•Œé¢      â”‚      â”‚  RESTful API   â”‚     â”‚    OPDSåè®®    â”‚
â”‚                â”‚      â”‚                â”‚     â”‚                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                       â”‚                      â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                            Spring Boot                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                â”‚                â”‚                â”‚             â”‚
â”‚    æœç´¢æœåŠ¡     â”‚     ç´¢å¼•æœåŠ¡     â”‚     AIæœåŠ¡     â”‚   æ–‡ä»¶æœåŠ¡    â”‚
â”‚                â”‚                â”‚                â”‚             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
        â”‚                   â”‚                 â”‚           â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚               â”‚    â”‚              â”‚   â”‚            â”‚    â”‚
â”‚     Lucene    â”‚    â”‚   SQLite     â”‚   â”‚ Spring AI  â”‚    â”‚
â”‚               â”‚    â”‚              â”‚   â”‚            â”‚    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
                                                          â”‚
                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
                       â”‚                            â”‚     â”‚
                       â”‚         æ–‡ä»¶å­˜å‚¨            â—„â”€â”€â”€â”€â”€â”˜
                       â”‚                            â”‚
                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ä½¿ç”¨é¢„æ„å»ºé•œåƒ

```bash
# åˆ›å»ºç½‘ç»œ
docker network create -d bridge xyz-bridge-net

# æ‹‰å–é•œåƒ
docker pull noogel/xyz-search:latest

# è¿è¡Œå®¹å™¨
docker run -d --name xyzSearch --network xyz-bridge-net -p 8081:8081 \
-v /path/to/searchData:/usr/share/xyz-search/data \
-v /path/to/share:/data/share \
noogel/xyz-search:latest

```

> é»˜è®¤è´¦å·:xyz
> é»˜è®¤å¯†ç :search
> è®¿é—®Webç•Œé¢:<http://localhost:8081>
> è´¦å·æš‚ä¸èƒ½ä¿®æ”¹ï¼Œå¯†ç å¯ä»¥åœ¨é…ç½®é¡µé¢ä¿®æ”¹ã€‚

## ğŸ”§ é…ç½®è¯´æ˜

å¯åŠ¨æœåŠ¡åï¼Œåœ¨é¡µé¢ä¿®æ”¹é…ç½®ï¼š

```json5
{
  "indexDirectories": [
    {
      // ç´¢å¼•ä¸»ç›®å½•ï¼Œæ”¯æŒå¤šä¸ª
      "directory": "/homes/xxx/XyzSearchTestData",
      "excludesDirectories": [
        // æ”¯æŒæ’é™¤ç‰¹å®šç›®å½•ï¼Œéœ€è¦åœ¨ä¸»ç›®å½•ä¸‹
        "/homes/xxx/XyzSearchTestData/exclude"
      ],
      // æ’é™¤ç´¢å¼•çš„æ–‡ä»¶ç±»å‹
      "excludeFileProcessClass": []
    }
  ],
  // è‡ªåŠ¨æ”¶é›†æ–‡ä»¶
  "collectDirectories": [
    {
      "fromList": [
        // æºç›®å½•ï¼Œæ”¯æŒå¤šä¸ª
        "/Users/xyz/Downloads/collect"
      ],
      // ç›®æ ‡ç›®å½•
      "to": "/homes/xxx/XyzSearchTestData/collect",
      // æºæ–‡ä»¶æ ¼å¼ç­›é€‰æ­£åˆ™
      "filterRegex": "\\.(pdf|PDF|epub|EPUB|docx|DOCX)",
      // æ”¶é›†æ–‡ä»¶åæ˜¯å¦åˆ é™¤æºæ–‡ä»¶
      "autoDelete": true
    }
  ],
  // opds æ ¹ç›®å½•ï¼Œå»ºè®®è®¾ç½®ä¸º calibre ä¸»ç›®å½•
  "opdsDirectory": "/homes/xxx/XyzSearchTestData",
  // ä¸»åŠ¨ä¸Šä¼ æ–‡ä»¶ç›®å½•
  "uploadFileDirectory": "/homes/xxx/XyzSearchTestData/upload",
  // æ ‡è®°åˆ é™¤æ–‡ä»¶æš‚å­˜ç›®å½•
  "markDeleteDirectory": "/homes/xxx/XyzSearchTestData/exclude/deleted",
  // æœåŠ¡è®¿é—®é‚®ä»¶é€šçŸ¥é…ç½®
  "notifyEmail": {
    "senderEmail": null,
    "emailHost": null,
    "emailPort": null,
    "emailPass": null,
    "receivers": []
  },
  // æ–‡ä»¶ OCR æœåŠ¡é…ç½®
  "paddleOcr": {
    "url": null,
    "timeout": 10000
  },
  // æ–‡ä»¶è¯¦æƒ…é¡µå¤–éƒ¨æœç´¢é“¾æ¥é…ç½®
  "linkItems": [
    {
      "desc": "è±†ç“£",
      "searchUrl": "https://m.douban.com/search/?query={query}"
    },
    {
      "desc": "äº¬ä¸œ",
      "searchUrl": "https://so.m.jd.com/ware/search.action?keyword={query}"
    },
    {
      "desc": "è°·æ­Œ",
      "searchUrl": "https://www.google.com/search?q={query}"
    }
  ],
  // AI å¯¹è¯æœç´¢é…ç½®ï¼Œæ”¯æŒå¯¹æ¥ Ollama
  "chat": {
    "enable": false,
    "ollama": {
      "baseUrl": "http://192.168.124.101:11434",
      "chatModel": "deepseek-r1:1.5b",
      "chatOptionNumCtx": "4096",
      "chatOptionTemperature": "1.0",
      "chatOptionNumPredict": "10000",
      "embeddingAdditionalModels": [],
      "pullModelStrategy": "when_missing"
    }
  }
}
```

## ğŸ³ Dockeréƒ¨ç½²

### è‡ªè¡Œæ„å»ºé•œåƒ

> è¦æ±‚æœ€ä½ JDK 17 ç¯å¢ƒ

```bash
# ä¸€é”®æ„å»º
mvn clean package && cd docker && docker build -t xyz-search:latest . && \
docker tag xyz-search:latest ç”¨æˆ·å/xyz-search:latest && cd ../../

# å‘å¸ƒåˆ°é•œåƒä»“åº“
docker push ç”¨æˆ·å/xyz-search:latest

# åˆ›å»ºç½‘ç»œ
docker network create -d bridge xyz-bridge-net

# ä¸€é”®éƒ¨ç½²
docker run -d --restart=always --name xyzSearch --network xyz-bridge-net -p 8081:8081 \
-v /å®é™…è·¯å¾„/searchData:/usr/share/xyz-search/data \
-v /å®é™…è·¯å¾„/share:/data/share \
ç”¨æˆ·å/xyz-search:latest

```

### Docker Composeéƒ¨ç½²

åˆ›å»º`docker-compose.yml`æ–‡ä»¶ï¼š

```yaml
version: '3'
services:
  xyz-search:
    image: noogel/xyz-search:latest
    container_name: xyzSearch
    restart: always
    ports:
      - "8081:8081"
    volumes:
      - ./searchData:/usr/share/xyz-search/data
      - ./share:/data/share
    networks:
      - xyz-net

networks:
  xyz-net:
    driver: bridge
```

å¯åŠ¨æœåŠ¡ï¼š

```bash
docker-compose up -d
```

## ğŸ’¬ å¸¸è§é—®é¢˜

**Q: å¦‚ä½•ä¿®æ”¹é»˜è®¤ç«¯å£?**
A: åœ¨application.ymlä¸­ä¿®æ”¹server.portå±æ€§ï¼Œæˆ–åœ¨å¯åŠ¨å‘½ä»¤ä¸­æ·»åŠ `--server.port=æ–°ç«¯å£`å‚æ•°ã€‚

**Q: æ”¯æŒå“ªäº›æ–‡ä»¶æ ¼å¼?**
A: æ”¯æŒPDFã€Wordã€Excelã€PowerPointã€TXTã€HTMLã€EPUBä»¥åŠå¸¸è§å›¾ç‰‡æ ¼å¼ç­‰ã€‚

## ğŸ“Š å¼€å‘è®¡åˆ’

* [ ] æ”¹è¿›Webç•Œé¢ï¼Œæä¾›ç°ä»£åŒ–æœç´¢é¡µé¢è®¾è®¡
* [ ] ä¼˜åŒ–RAGæ£€ç´¢å¢å¼ºç”Ÿæˆ
* [ ] æ·»åŠ å¤šç”¨æˆ·è®¤è¯å’Œæƒé™ç®¡ç†
* [ ] ä¼˜åŒ–ä¸­æ–‡åˆ†è¯æ•ˆæœ

## ğŸ‘¥ è´¡çŒ®æŒ‡å—

1. Fork æœ¬ä»“åº“
2. æ–°å»ºç‰¹æ€§åˆ†æ”¯
3. æäº¤ä»£ç 
4. æ–°å»º Pull Request

æˆ‘ä»¬æ¬¢è¿å„ç§å½¢å¼çš„è´¡çŒ®ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºï¼š

* æ–°åŠŸèƒ½å¼€å‘
* Bugä¿®å¤
* æ–‡æ¡£æ”¹è¿›
* æµ‹è¯•ç”¨ä¾‹ç¼–å†™

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [GNU General Public License v3.0](https://www.gnu.org/licenses/gpl-3.0.html) è®¸å¯è¯
