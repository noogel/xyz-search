# xyz-search

<div align="center">
<img src="https://via.placeholder.com/150" alt="xyz-search logo" width="150px">

[![Maven Central](https://img.shields.io/maven-central/v/noogel.xyz/xyz-search.svg?style=flat-square)](https://maven-badges.herokuapp.com/maven-central/noogel.xyz/xyz-search/)
[![License](https://img.shields.io/badge/license-Apache%202-4EB1BA.svg?style=flat-square)](https://www.apache.org/licenses/LICENSE-2.0.html)
[![Docker Pulls](https://img.shields.io/docker/pulls/noogel/xyz-search.svg?style=flat-square)](https://hub.docker.com/r/noogel/xyz-search)

**ä¸€ä¸ªå¼ºå¤§çš„å…¨æ–‡æœç´¢ä¸æ™ºèƒ½æ£€ç´¢ç³»ç»Ÿ**
</div>

## ğŸ“š ç›®å½•

* [ğŸ’¡ é¡¹ç›®ä»‹ç»](#-é¡¹ç›®ä»‹ç»)
* [âœ¨ ä¸»è¦ç‰¹æ€§](#-ä¸»è¦ç‰¹æ€§)
* [ğŸ” ç³»ç»Ÿæ¶æ„](#-ç³»ç»Ÿæ¶æ„)
* [ğŸš€ å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹)
* [ğŸ”§ é…ç½®è¯´æ˜](#-é…ç½®è¯´æ˜)
* [ğŸ³ Dockeréƒ¨ç½²](#-dockeréƒ¨ç½²)
* [ğŸ“Š å¼€å‘è®¡åˆ’](#-å¼€å‘è®¡åˆ’)
* [ğŸ‘¥ è´¡çŒ®æŒ‡å—](#-è´¡çŒ®æŒ‡å—)
* [ğŸ“„ è®¸å¯è¯](#-è®¸å¯è¯)

## ğŸ’¡ é¡¹ç›®ä»‹ç»

xyz-searchæ˜¯ä¸€ä¸ªåŸºäºSpring Bootå’ŒLuceneçš„å…¨æ–‡æœç´¢ç³»ç»Ÿ,æ”¯æŒå¤šç§æ–‡ä»¶æ ¼å¼çš„ç´¢å¼•å’Œæœç´¢ã€‚å®ƒæä¾›äº†ç®€å•æ˜“ç”¨çš„APIå’ŒWebç•Œé¢,å¯ä»¥å¸®åŠ©ç”¨æˆ·å¿«é€Ÿæ„å»ºå…¨æ–‡æœç´¢åº”ç”¨ã€‚é€šè¿‡é›†æˆSpring AIåŠŸèƒ½,æ”¯æŒæ™ºèƒ½æœç´¢å’Œå†…å®¹åˆ†æ,ä¸ºç”¨æˆ·æä¾›æ›´ç²¾å‡†çš„æœç´¢ä½“éªŒã€‚

### ğŸ® åœ¨çº¿æ¼”ç¤º

*å³å°†ä¸Šçº¿*

## âœ¨ ä¸»è¦ç‰¹æ€§

### ğŸ“„ å¤šæ ¼å¼æ–‡æ¡£æ”¯æŒ
* æ”¯æŒPDFã€Officeæ–‡æ¡£(Wordã€Excelã€PowerPoint)ç­‰å¤šç§æ ¼å¼
* æ”¯æŒå›¾ç‰‡å†…å®¹è¯†åˆ«å’Œç´¢å¼•
* æ”¯æŒHTMLå’Œçº¯æ–‡æœ¬æ–‡ä»¶

### ğŸ” é«˜æ€§èƒ½æœç´¢å¼•æ“
* åŸºäºLuceneçš„é«˜æ•ˆç´¢å¼•å’Œæ£€ç´¢
* æ”¯æŒä¸­æ–‡åˆ†è¯å’Œæ™ºèƒ½æ£€ç´¢
* å®æ—¶ç´¢å¼•æ›´æ–°å’Œæœç´¢ç»“æœä¼˜åŒ–

### ğŸ¤– AIå¢å¼ºèƒ½åŠ›
* é›†æˆSpring AI,æ”¯æŒæ™ºèƒ½æœç´¢
* å†…å®¹ç†è§£å’Œè¯­ä¹‰åˆ†æ
* æ”¯æŒå¯¹è¯å¼æœç´¢ä½“éªŒ

### ğŸ“š ç”µå­ä¹¦ç®¡ç†
* æ”¯æŒOPDSåè®®,æ–¹ä¾¿ç”µå­ä¹¦ç®¡ç†
* æä¾›æ ¼å¼è½¬æ¢å’Œé˜…è¯»åŠŸèƒ½
* æ”¯æŒç”µå­ä¹¦å…ƒæ•°æ®æå–å’Œç®¡ç†

### ğŸ’» æ˜“ç”¨çš„ç•Œé¢ä¸API
* ç®€æ´ç°ä»£çš„Webç•Œé¢
* å®Œæ•´çš„RESTful API
* æ”¯æŒè‡ªå®šä¹‰ä¸»é¢˜å’Œå¸ƒå±€

## ğŸ” ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                â”‚    â”‚                â”‚    â”‚                â”‚
â”‚   Webç•Œé¢      â”‚    â”‚  RESTful API   â”‚    â”‚  OPDSåè®®      â”‚
â”‚                â”‚    â”‚                â”‚    â”‚                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                     â”‚                     â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                            â”‚
â”‚                      Spring Boot                           â”‚
â”‚                                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                â”‚                â”‚                â”‚         â”‚
â”‚  æœç´¢æœåŠ¡      â”‚  ç´¢å¼•æœåŠ¡      â”‚   AIæœåŠ¡       â”‚  æ–‡ä»¶æœåŠ¡â”‚
â”‚                â”‚                â”‚                â”‚         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”¬â”€â”€â”€â”˜
        â”‚                     â”‚                â”‚          â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚                 â”‚    â”‚              â”‚   â”‚          â”‚   â”‚
â”‚     Lucene      â”‚    â”‚   SQLite     â”‚   â”‚ Spring AIâ”‚   â”‚
â”‚                 â”‚    â”‚              â”‚   â”‚          â”‚   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
                                                         â”‚
                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
                       â”‚                            â”‚    â”‚
                       â”‚        æ–‡ä»¶å­˜å‚¨           â—„â”€â”€â”€â”€â”€â”˜
                       â”‚                            â”‚
                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å¯åŠ¨æœåŠ¡

```bash
# ä½¿ç”¨Mavenå¯åŠ¨
mvn spring-boot:run

# è®¿é—®Webç•Œé¢
http://localhost:8081
```

### ä½¿ç”¨ç¤ºä¾‹

**1. ç´¢å¼•æ–‡ä»¶**
```bash
curl http://localhost:8081/admin/es/index/reset
curl http://localhost:8081/admin/es/data/sync
```

**2. æœç´¢æ–‡ä»¶**
```bash
curl "http://localhost:8081/api/search?q=å…³é”®è¯"
```

**3. æ™ºèƒ½èŠå¤©**
```bash
curl "http://localhost:8081/chat/stream?message=è¯·æ‰¾å‡ºå…³äºspringçš„æ–‡æ¡£&resId=123456"
```

## ğŸ”§ é…ç½®è¯´æ˜

ä¸»è¦é…ç½®é¡¹åœ¨`application.yml`ä¸­:

```yaml
server:
  port: 8081

spring:
  ai:
    ollama:
      base-url: http://localhost:11434
    openai:
      api-key: your-api-key

xyz:
  search:
    index-path: /path/to/index
    data-path: /path/to/data
```

## ğŸ³ Dockeréƒ¨ç½²

### ä½¿ç”¨é¢„æ„å»ºé•œåƒ

```bash
# åˆ›å»ºç½‘ç»œ
docker network create -d bridge xyz-bridge-net

# æ‹‰å–é•œåƒ
docker pull noogel/xyz-search:1.2.1

# è¿è¡Œå®¹å™¨
docker run -d --name xyzSearch --network xyz-bridge-net -p 8081:8081 \
-v /path/to/searchData:/usr/share/xyz-search/data \
-v /path/to/share:/data/share \
noogel/xyz-search:1.2.1
```

### è‡ªè¡Œæ„å»ºé•œåƒ

```bash
# åŸºæœ¬æ„å»º
docker build -t xyz-search:1.2.1 .

# æ ‡è®°é•œåƒ
docker tag xyz-search:1.2.1 ç”¨æˆ·å/xyz-search:1.2.1
```

### ä¸€é”®æ„å»ºä¸éƒ¨ç½²

```bash
# ä¸€é”®æ„å»º
mvn clean package && cd docker/dep1 && docker build -t xyz-search:1.2.1 . && \
docker tag xyz-search:1.2.1 ç”¨æˆ·å/xyz-search:1.2.1 && cd ../../

# å‘å¸ƒåˆ°é•œåƒä»“åº“
docker push ç”¨æˆ·å/xyz-search:1.2.1

# ä¸€é”®éƒ¨ç½²
docker run -d --restart=always --name xyzSearch --network xyz-bridge-net -p 8081:8081 \
-v /å®é™…è·¯å¾„/searchData:/usr/share/xyz-search/data \
-v /å®é™…è·¯å¾„/share:/data/share \
ç”¨æˆ·å/xyz-search:1.2.1
```

### ç¯å¢ƒå˜é‡

```bash
# é…ç½®æ–‡ä»¶è·¯å¾„
-Dconfig.path=/path/to/search-config.yml

# éƒ¨ç½²ç¯å¢ƒ
DEPLOY_ENV=docker
```

## ğŸ“Š å¼€å‘è®¡åˆ’

- [ ] æ”¯æŒæ›´å¤šæ–‡ä»¶æ ¼å¼
- [ ] ä¼˜åŒ–æœç´¢æ€§èƒ½
- [ ] æ·»åŠ æ›´å¤šAIåŠŸèƒ½
- [ ] æ”¹è¿›Webç•Œé¢
- [ ] æ·»åŠ ç”¨æˆ·è®¤è¯
- [ ] å¼€å‘ç§»åŠ¨ç«¯åº”ç”¨
- [ ] ä¼˜åŒ–ä¸­æ–‡åˆ†è¯æ•ˆæœ

## ğŸ‘¥ è´¡çŒ®æŒ‡å—

1. Fork æœ¬ä»“åº“
2. æ–°å»ºç‰¹æ€§åˆ†æ”¯
3. æäº¤ä»£ç 
4. æ–°å»º Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0) è®¸å¯è¯