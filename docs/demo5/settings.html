<!-- 系统设置页面 -->
<div class="mb-6">
    <div class="bg-white rounded-lg shadow">
        <!-- 标签页导航 -->
        <nav class="flex border-b border-gray-200">
            <button id="tab-general" class="px-6 py-4 text-primary-600 border-b-2 border-primary-600 font-medium text-sm">
                通用设置
            </button>
            <button id="tab-model" class="px-6 py-4 text-gray-600 hover:text-gray-800 font-medium text-sm">
                模型配置
            </button>
            <button id="tab-vector" class="px-6 py-4 text-gray-600 hover:text-gray-800 font-medium text-sm">
                向量数据库
            </button>
            <button id="tab-api" class="px-6 py-4 text-gray-600 hover:text-gray-800 font-medium text-sm">
                API设置
            </button>
            <button id="tab-security" class="px-6 py-4 text-gray-600 hover:text-gray-800 font-medium text-sm">
                安全与权限
            </button>
        </nav>

        <!-- 通用设置面板 -->
        <div id="panel-general" class="p-6">
            <form>
                <!-- 系统信息 -->
                <div class="mb-8">
                    <h2 class="text-lg font-medium text-gray-900 mb-4">系统信息</h2>
                    <div class="grid grid-cols-1 gap-6 md:grid-cols-2">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">系统名称</label>
                            <input type="text" value="XYZ智能检索平台" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">当前版本</label>
                            <div class="flex items-center">
                                <input type="text" value="v1.2.5" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500" disabled>
                                <span class="ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800">
                                    最新版本
                                </span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 界面设置 -->
                <div class="mb-8">
                    <h2 class="text-lg font-medium text-gray-900 mb-4">界面设置</h2>
                    <div class="grid grid-cols-1 gap-6 md:grid-cols-2">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">界面主题</label>
                            <select class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500">
                                <option>默认主题</option>
                                <option>暗黑模式</option>
                                <option>高对比度</option>
                                <option>自定义</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">界面语言</label>
                            <select class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500">
                                <option>简体中文</option>
                                <option>English</option>
                                <option>日本語</option>
                                <option>한국어</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">每页显示记录数</label>
                            <select class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500">
                                <option>10</option>
                                <option selected>20</option>
                                <option>50</option>
                                <option>100</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">日期时间格式</label>
                            <select class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500">
                                <option>YYYY-MM-DD HH:mm:ss</option>
                                <option>DD/MM/YYYY HH:mm:ss</option>
                                <option>MM/DD/YYYY HH:mm:ss</option>
                                <option>自定义</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- 检索配置 -->
                <div class="mb-8">
                    <h2 class="text-lg font-medium text-gray-900 mb-4">检索配置</h2>
                    <div class="grid grid-cols-1 gap-6 md:grid-cols-2">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">默认检索结果数量</label>
                            <input type="number" value="5" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">相似度阈值</label>
                            <div class="flex items-center">
                                <input type="range" min="0" max="100" value="75" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer">
                                <span class="ml-2 text-sm text-gray-600">75%</span>
                            </div>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">检索算法</label>
                            <select class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500">
                                <option>语义检索</option>
                                <option>关键词检索</option>
                                <option selected>混合检索</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">混合检索权重</label>
                            <div class="flex items-center">
                                <span class="text-sm text-gray-600 mr-2">语义：</span>
                                <input type="range" min="0" max="100" value="70" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer">
                                <span class="ml-2 text-sm text-gray-600">70%</span>
                            </div>
                        </div>
                        <div class="md:col-span-2">
                            <div class="flex items-center">
                                <input type="checkbox" checked class="h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded">
                                <label class="ml-2 block text-sm text-gray-700">启用检索结果缓存</label>
                            </div>
                        </div>
                        <div class="md:col-span-2">
                            <div class="flex items-center">
                                <input type="checkbox" checked class="h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded">
                                <label class="ml-2 block text-sm text-gray-700">显示检索来源</label>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 系统性能 -->
                <div class="mb-8">
                    <h2 class="text-lg font-medium text-gray-900 mb-4">系统性能</h2>
                    <div class="grid grid-cols-1 gap-6 md:grid-cols-2">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">文档处理并行度</label>
                            <select class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500">
                                <option>1</option>
                                <option>2</option>
                                <option selected>4</option>
                                <option>8</option>
                                <option>16</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">缓存过期时间</label>
                            <div class="flex items-center">
                                <input type="number" value="24" class="w-24 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500">
                                <span class="ml-2 text-sm text-gray-600">小时</span>
                            </div>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">系统最大并发请求数</label>
                            <input type="number" value="20" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">请求超时时间</label>
                            <div class="flex items-center">
                                <input type="number" value="30" class="w-24 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500">
                                <span class="ml-2 text-sm text-gray-600">秒</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 操作按钮 -->
                <div class="flex justify-end space-x-3">
                    <button type="button" class="px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-lg text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500">
                        重置
                    </button>
                    <button type="submit" class="inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-lg text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500">
                        保存设置
                    </button>
                </div>
            </form>
        </div>
        
        <!-- 其他面板，默认隐藏 -->
        <div id="panel-model" class="p-6 hidden">
            <p class="text-gray-700">模型配置内容</p>
        </div>
        <div id="panel-vector" class="p-6 hidden">
            <p class="text-gray-700">向量数据库内容</p>
        </div>
        <div id="panel-api" class="p-6 hidden">
            <p class="text-gray-700">API设置内容</p>
        </div>
        <div id="panel-security" class="p-6 hidden">
            <p class="text-gray-700">安全与权限内容</p>
        </div>
    </div>
</div>

<script>
    document.addEventListener('pageLoaded', function(e) {
        if (e.detail.page === 'settings') {
            console.log('系统设置页面已加载');
            
            // 标签页切换功能
            const tabs = document.querySelectorAll('[id^="tab-"]');
            const panels = document.querySelectorAll('[id^="panel-"]');
            
            tabs.forEach(tab => {
                tab.addEventListener('click', function() {
                    // 移除所有标签页的激活状态
                    tabs.forEach(t => {
                        t.classList.remove('text-primary-600', 'border-b-2', 'border-primary-600');
                        t.classList.add('text-gray-600', 'hover:text-gray-800');
                    });
                    
                    // 隐藏所有面板
                    panels.forEach(panel => {
                        panel.classList.add('hidden');
                    });
                    
                    // 激活当前标签页
                    this.classList.remove('text-gray-600', 'hover:text-gray-800');
                    this.classList.add('text-primary-600', 'border-b-2', 'border-primary-600');
                    
                    // 显示对应面板
                    const panelId = this.id.replace('tab-', 'panel-');
                    document.getElementById(panelId).classList.remove('hidden');
                });
            });
            
            // 处理范围输入事件
            const rangeInputs = document.querySelectorAll('input[type="range"]');
            rangeInputs.forEach(input => {
                input.addEventListener('input', function() {
                    const value = this.value;
                    const outputElement = this.nextElementSibling;
                    if (outputElement) {
                        outputElement.textContent = value + '%';
                    }
                });
            });
            
            // 表单提交处理
            const form = document.querySelector('form');
            if (form) {
                form.addEventListener('submit', function(e) {
                    e.preventDefault();
                    alert('设置已保存');
                });
            }
            
            // 重置按钮处理
            const resetButton = document.querySelector('button[type="button"]');
            if (resetButton) {
                resetButton.addEventListener('click', function() {
                    if (confirm('确定要重置所有设置吗？这将恢复默认值。')) {
                        form.reset();
                        alert('设置已重置为默认值');
                    }
                });
            }
        }
    });
</script> 